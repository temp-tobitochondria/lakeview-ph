/* ====================================================================== */
/* ðŸ§± TABLE WRAPPER + CORE                                                */
/* ====================================================================== */
.table-wrapper {
  width: 100%;
  max-width: 100%;
  overflow: auto; /* inner scroller handles X */
}

.lv-table-wrap { width: 100%; }
.lv-table-scroller {
  width: 100%;
  overflow-x: auto;
  overflow-y: visible;     /* avoid inner vertical scrollbars */
  border-radius: 12px;
  scrollbar-gutter: stable both-edges; /* guard against layout jump */
}

.lv-table {
  width: 100%;
  min-width: 900px;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: auto;      /* columns size to content */
  background: #fff;
  border-radius: 12px;
}

/* Fallback styling for simple tables that only set .lv-table on <table> */
.lv-table thead th { background: #f8fafc; font-weight: 600; padding: 10px 12px; border-bottom: 1px solid #eef2f7; color: #111827; }
.lv-table tbody td { padding: 10px 12px; border-bottom: 1px solid #eef2f7; color: #111827; }

.lv-th, .lv-td {
  padding: 10px 12px;
  border-bottom: 1px solid #eef2f7;
  vertical-align: top;
  color: #111827;
  word-break: break-word;
  white-space: normal;
  box-sizing: border-box;   /* ensure consistent width calc */
  line-height: 1.25;
}

/* header cells */
.lv-th {
  position: sticky;
  top: 0;
  z-index: 3;
  background: #f8fafc;
  font-weight: 600;
  user-select: none;
}
.lv-th .lv-th-inner { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.lv-th .lv-th-label { overflow: hidden; text-overflow: ellipsis; }
.lv-th .lv-th-label.lv-sortable { cursor: pointer; background: transparent; border: 0; padding: 0; color: inherit; text-align: left; }
.lv-th .lv-th-label.lv-sortable:focus { outline: 2px solid rgba(59,130,246,0.35); outline-offset: 2px; border-radius: 4px; }

/* Helpful inline label with icon */
.th-with-icon { display: inline-flex; align-items: center; gap: .5rem; }

/* column resizer (absolute so it doesnâ€™t steal width) */
.lv-resizer {
  position: absolute;
  right: 0; top: 0; bottom: -1px;
  width: 8px;
  cursor: col-resize;
  background: transparent;
}
.lv-th:hover .lv-resizer { background: rgba(59,130,246,0.12); }

.lv-empty { padding: 28px 12px; text-align: center; color: #6b7280; }

/* Sticky actions column (both header + body) */
.sticky-right {
  position: sticky; right: 0;
  background: #fff;
  box-shadow: -6px 0 8px -6px rgba(0,0,0,0.06);
  z-index: 2;
}
.lv-th.sticky-right {
  background: #f8fafc;
  z-index: 4;
}

/* Inline action icons */
.lv-td-actions { padding-right: 8px; }
.lv-actions-inline { display: flex; gap: 8px; align-items: center; }
.icon-btn.simple {
  background: transparent; border: none; cursor: pointer;
  padding: 6px; border-radius: 8px; color: #6b7280; line-height: 0;
}
.icon-btn.simple:hover { background: #f3f4f6; color: #111827; }
.icon-btn.simple.danger:hover { background: #fee2e2; color: #b91c1c; }
.icon-btn.simple.accent:hover { background: #dcfce7; color: #166534; }

/* Pager */
.lv-table-pager {
  display: flex; align-items: center; justify-content: flex-end;
  gap: 10px; padding: 10px 0 0;
}
.lv-table-pager .pager-text { color: #4b5563; }

@media (max-width: 479px) {
  .lv-table-pager {
    justify-content: center;
  }
}

/* ====================================================================== */
/* ðŸ”§ COLUMN PICKER                                                       */
/* ====================================================================== */
.lv-colpick { position: relative; display: inline-block; }
.lv-colpick-menu {
  position: absolute; /* becomes fixed when portalToBody=true inline style */
  right: 0; top: 100%;
  width: 240px;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 12px 28px rgba(0,0,0,0.18);
  z-index: 5000;
}
.lv-colpick-title { font-weight: 700; padding: 10px 12px; border-bottom: 1px solid #f1f5f9; }
.lv-colpick-list { max-height: 260px; overflow: auto; padding: 8px 10px; display: grid; gap: 6px; }
.lv-colpick-item { display: flex; align-items: center; gap: 8px; font-size: 0.92rem; color: #111827; }
.lv-colpick-actions { display: flex; justify-content: flex-end; gap: 8px; padding: 10px 12px; border-top: 1px solid #f1f5f9; }

/* ====================================================================== */
/* ðŸ”Ž TOOLBAR                                                             */
/* ====================================================================== */
.org-toolbar {
  display: grid;
  grid-template-columns: 1fr auto auto auto;  /* search | potential small filters | ... | actions */
  gap: 10px;
  align-items: center;
}

.org-search,
.org-filter {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  background: #ffffff;
  border: 1px solid #d1d5db;
  color: #374151;
  min-width: 0;
}

.org-search { min-width: 0; }
.org-search input {
  background: transparent; border: 0; outline: 0; color: #111827;
  min-width: 0; width: 100%;
}

.org-filter { position: relative; min-width: 0; width: 100%; }
.org-filter select,
.org-filter input:not([type="date"]) {
  background: transparent; border: 0; outline: 0; color: #111827;
  width: 100%; min-width: 0; flex: 1 1 auto;
  border-radius: 8px; padding: 6px 28px 6px 8px;
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
}
.org-filter::after {
  content: "â–¾"; position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
  pointer-events: none; color: #6b7280;
}

/* Date filters: let native date picker and icon show; remove dropdown arrow */
.org-filter.org-filter-date { position: relative; }
.org-filter.org-filter-date::after { content: none; }
.org-filter .org-date-input {
  background: transparent; border: 0; outline: 0; color: #111827;
  width: 100%; min-width: 0; flex: 1 1 auto;
  border-radius: 8px; padding: 6px 8px; /* no right padding for arrow */
  /* keep native appearance for calendar */
}

.toolbar-icon { color: #6b7280; }

.org-actions-right {
  display: inline-flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

/* Pill buttons */
.pill-btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; height: 36px; padding: 0 12px; border-radius: 999px;
  border: 1px solid #d1d5db; cursor: pointer;
  background: #ffffff; color: #374151;
  transition: background 140ms ease, border-color 140ms ease;
}
.pill-btn:hover { background: #f3f4f6; border-color: #9ca3af; }
.pill-btn.primary { background: #3b82f6; border-color: #2563eb; color: #fff; }
.pill-btn.primary:hover { background: #2563eb; }
@media (max-width: 480px) { .hide-sm { display: none; } }

/* ====================================================================== */
/* ðŸª« EMPTY STATE                                                         */
/* ====================================================================== */
.no-data { text-align: center; padding: 28px 16px; color: #6b7280; }

/* ====================================================================== */
/* ðŸ“± RESPONSIVE HELPERS                                                  */
/* ====================================================================== */
@media (max-width: 1024px) { .col-md-hide { display: none; } }
@media (max-width: 820px)  { .col-sm-hide { display: none; } }
@media (max-width: 560px)  { .col-xs-hide { display: none; } }

/* Card-based layout for smaller devices */
@media (max-width: 1023px) {
  .lv-table-wrap .lv-table-scroller {
    display: none;
  }

  .table-cards {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .table-card {
    background: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .card-field {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 8px 0;
    border-bottom: 1px solid #f3f4f6;
    gap: 16px;
  }

  .card-field:last-child {
    border-bottom: none;
  }

  .card-field strong {
    font-weight: 600;
    color: #374151;
    flex-shrink: 0;
    min-width: 120px;
  }

  .card-value {
    color: #111827;
    text-align: left;
    flex: 1;
    word-break: break-word;
  }

  .card-actions {
    margin-top: 16px;
    display: flex;
    gap: 8px;
    justify-content: center;
  }

  .table-cards .lv-empty {
    text-align: center;
    padding: 28px 16px;
    color: #6b7280;
    background: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
  }
}

@media (max-width: 1024px) {
  .org-toolbar { grid-template-columns: 1fr auto; grid-auto-flow: row; }
}
@media (max-width: 820px) {
  .org-toolbar { grid-template-columns: 1fr; }
  .org-actions-right { justify-content: center; }
  /* make search fill full width and place actions on their own centered row */
  .org-search { width: 100%; }
  .org-actions-right { width: 100%; justify-content: center; margin-top: 8px; }
  .org-actions-right .pill-btn { min-width: 64px; }
}

/* ====================================================================== */
/*  ADVANCED FILTERS PANEL (below toolbar)                              */
/* ====================================================================== */
.advanced-filters {
  margin: 10px 0 6px 0;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 12px;
  overflow: visible;              /* ensure poppers/inputs are visible */
}

/* ---------------------------------------------------------------------- */
/* Admin Parameters - per-page layout improvements                        */
/* Keep the search left and actions aligned right on wide screens, but     */
/* stack (search full width + centered actions) on tablet / mobile.       */
/* Also reduce the table min-width for this page to avoid unnecessary X scroll */
.admin-parameters {
  --params-table-minwidth: 720px;
}

.admin-parameters .params-toolbar .org-toolbar {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
}

@media (max-width: 1024px) {
  .admin-parameters .params-toolbar .org-toolbar { grid-template-columns: 1fr; grid-auto-flow: row; }
  .admin-parameters .params-toolbar .org-actions-right { justify-content: center; margin-top: 8px; width: 100%; }
}

/* Ensure columns and add buttons float to the right within the table card title area */
.admin-parameters .dashboard-card-body > .lv-table-wrap {
  padding-top: 8px;
}
.admin-parameters .dashboard-card-body .lv-table-toolbar {
  display: flex; align-items: center; justify-content: space-between; gap: 8px; flex-wrap: wrap;
}
.admin-parameters .dashboard-card-body .lv-toolbar-right { margin-left: 0; }

/* reduce table min-width only for admin params page to avoid horizontal scrolling */
.admin-parameters .lv-table { min-width: var(--params-table-minwidth); }

/* slightly tighter table cell padding for this page on wider screens */
@media (min-width: 1200px) {
  .admin-parameters .lv-td, .admin-parameters .lv-th { padding: 9px 10px; }
}

.advanced-filters-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.advanced-filters-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  align-items: start;
  gap: 16px;
}

.af-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

.af-field.full-width {
  grid-column: 1 / -1;
}
.af-field > span {
  font-size: 0.85rem;
  font-weight: 600;
  color: #374151;
}
.af-field input,
.af-field select {
  width: 100%;                     /* â† keep inside the panel */
  max-width: 100%;
  padding: 9px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #fff;
  color: #111827;
  box-sizing: border-box;          /* â† prevent â€œbeyond boundsâ€ */
}
.af-field select[multiple] {
  min-height: 36px;
}

.af-field.af-boolean {
  flex-direction: row;
  align-items: center;
  gap: 10px;
}

.af-field.af-boolean-pill {
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
}

.af-field.af-boolean-pill .pill-btn {
  align-self: flex-start;
}
.af-range {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 8px;
  align-items: center;
}
.af-range-sep { color: #6b7280; }

@media (max-width: 900px) {
  .advanced-filters-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
}
@media (max-width: 580px) {
  .advanced-filters-grid { grid-template-columns: 1fr; }
}

/* ---------------------------------------------------------------------- */
/* ðŸŽ¯ Advanced Filters â€“ Responsive Enhancements                          */
/* Goal: keep first row fields (e.g. name / email / role) sideâ€‘byâ€‘side on  */
/* wider screens while forcing range/date blocks to span full width.      */
/* This is generic enough to not break other panels; it keys off position */
/* (4th/5th items) which in Users page are the date ranges.               */
/* ---------------------------------------------------------------------- */
/* Fullâ€‘row for 4th+ date range style fields (Users page ordering) */
.advanced-filters-grid .af-field:nth-child(4),
.advanced-filters-grid .af-field:nth-child(5) {
  grid-column: 1 / -1;
}

/* Avoid squishing internal inputs on tight widths */
.advanced-filters-grid .af-range input { min-width: 0; }

/* Ensure consistent auto row sizing (prevents overlap in some browsers) */
.advanced-filters-grid { grid-auto-rows: minmax(0, auto); }

/* Responsive breakpoints */
/* 4K and larger: keep 4 columns */
@media (min-width: 1921px) {
  .advanced-filters-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Laptop L: 1440-1920px */
@media (min-width: 1440px) and (max-width: 1920px) {
  .advanced-filters-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Laptop: 1024-1439px */
@media (min-width: 1024px) and (max-width: 1439px) {
  .advanced-filters-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Tablet: 768-1023px */
@media (min-width: 768px) and (max-width: 1023px) {
  .advanced-filters-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
  .af-field > span {
    font-size: 0.8rem;
  }
  .af-field input,
  .af-field select {
    padding: 8px 9px;
  }
}

/* Mobile L: 640-767px */
@media (min-width: 640px) and (max-width: 767px) {
  .advanced-filters-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  .af-field > span {
    font-size: 0.8rem;
  }
  .af-field input,
  .af-field select {
    padding: 8px 9px;
  }
}

/* Mobile M: 480-639px */
@media (min-width: 480px) and (max-width: 639px) {
  .advanced-filters-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .advanced-filters {
    padding: 10px;
  }
  .af-field > span {
    font-size: 0.75rem;
  }
  .af-field input,
  .af-field select {
    padding: 7px 8px;
  }
}

/* Mobile S: <480px */
@media (max-width: 479px) {
  .advanced-filters-grid {
    grid-template-columns: 1fr;
    gap: 8px;
  }
  .advanced-filters {
    padding: 8px;
  }
  .advanced-filters-header {
    margin-bottom: 8px;
  }
  .af-field > span {
    font-size: 0.7rem;
  }
  .af-field input,
  .af-field select {
    padding: 6px 7px;
  }
  .af-range {
    gap: 6px;
  }
}

/* Medium+ screens: allow multi-column layout with comfortable min width */
@media (min-width: 680px) {
  .advanced-filters-grid {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }
}

/* Large screens: lock to exactly three columns for cleaner alignment */
@media (min-width: 1000px) {
  .advanced-filters-grid {
    grid-template-columns: repeat(3, minmax(220px, 1fr));
  }
  .advanced-filters-grid .af-field:nth-child(4),
  .advanced-filters-grid .af-field:nth-child(5) { grid-column: 1 / -1; }
}

/* ====================================================================== */
/* ðŸ—‚ ORG FORM                                                            */
/* ====================================================================== */
.org-form .form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.org-form .field.full { grid-column: 1 / -1; }
.org-form .field label { display: block; font-weight: 600; margin-bottom: 6px; }
.org-form .field input[type="text"],
.org-form .field input[type="email"],
.org-form .field select,
.org-form .field textarea { width: 100%; }
.org-form .form-actions { margin-top: 12px; display: flex; justify-content: flex-end; gap: 8px; }
.req { color: #e53935; }

/* ===== BodySelect (if used anywhere) ===== */
.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-group input,
.form-group select,
.form-group textarea {
  border: 1px solid #d1d5db;
  border-radius: 8px;
  padding: 8px 10px;
  outline: 0;
  background: #fff;
  color: #111827;
  width: 100%;
}

/* BodySelect layout */
.form-group.bodyselect .bodyselect-search { width: 100%; margin-bottom: 8px; }
.form-group.bodyselect .bs-fields {
  display: grid;
  grid-template-columns: 1fr 180px;  /* select | manual id */
  gap: 8px;
  align-items: end;
}
.form-group.bodyselect .bs-select { width: 100%; }
.form-group.bodyselect .bs-manual small { display: block; color: #6b7280; margin-bottom: 4px; }
.form-group.bodyselect .bs-manual input { width: 100%; max-width: 180px; }

/* Stack on narrow screens */
@media (max-width: 720px) {
  .org-form .form-grid { grid-template-columns: 1fr; }
  .form-group.bodyselect .bs-fields { grid-template-columns: 1fr; }
  .form-group.bodyselect .bs-manual input { max-width: none; }
}

/* Stack selection fields on small screens */
@media (max-width: 767px) {
  .org-form {
    flex-direction: column;
    align-items: stretch;
  }
  .org-form .form-group {
    min-width: 100% !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  .org-form .form-group select,
  .org-form .form-group input { width: 100% !important; box-sizing: border-box; }
}

/* Make pill buttons icon-only on small phones/tablets (S/M/L) - scoped to admin-parameters header only */
@media (max-width: 767px) {
  .admin-parameters .dashboard-card-header .org-actions-right .pill-btn {
    padding: 0 8px;
    gap: 0.5rem;
    height: 36px;
  }
  /* hide button text but keep icons, badges remain but scale down if present */
  .admin-parameters .dashboard-card-header .org-actions-right .pill-btn > span { display: none !important; }
  .admin-parameters .dashboard-card-header .org-actions-right .pill-btn .toolbar-icon { margin-right: 0; }
  /* shrink widths where used to avoid overflow */
  .admin-parameters .dashboard-card-header .org-actions-right .pill-btn.primary { padding: 0 10px; }
}
.lv-table-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.lv-toolbar-left,
.lv-toolbar-right {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.lv-toolbar-right {
  margin-left: auto;
}

.lv-toolbar-filters {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.lv-toolbar-select {
  padding: 8px 10px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  background: #fff;
  color: #111827;
  min-width: 140px;
}

.lv-toolbar-select:focus {
  outline: 2px solid rgba(59,130,246,0.35);
  outline-offset: 1px;
}

.lv-colpick-toggle {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.lv-colpick-toggle svg {
  width: 16px;
  height: 16px;
}