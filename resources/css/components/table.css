/* ====================================================================== */
/* üß± TABLE WRAPPER + CORE                                                */
/* ====================================================================== */
.table-wrapper {
  width: 100%;
  max-width: 100%;
  overflow: auto; /* inner scroller handles X */
}

.lv-table-wrap { width: 100%; }
.lv-table-scroller {
  width: 100%;
  overflow-x: visible;
  overflow-y: visible;     /* avoid inner vertical scrollbars */
  border-radius: 12px;
  scrollbar-gutter: stable both-edges; /* guard against layout jump */
}

.lv-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: fixed;     /* enables width control / wrapping */
  background: #fff;
  border-radius: 12px;
}

/* Fallback styling for simple tables that only set .lv-table on <table> */
.lv-table thead th { background: #f8fafc; font-weight: 600; padding: 10px 12px; border-bottom: 1px solid #eef2f7; color: #111827; }
.lv-table tbody td { padding: 10px 12px; border-bottom: 1px solid #eef2f7; color: #111827; }

.lv-th, .lv-td {
  padding: 10px 12px;
  border-bottom: 1px solid #eef2f7;
  vertical-align: top;
  color: #111827;
  word-break: break-word;
  white-space: normal;
  box-sizing: border-box;   /* ensure consistent width calc */
  line-height: 1.25;
}

/* header cells */
.lv-th {
  position: sticky;
  top: 0;
  z-index: 3;
  background: #f8fafc;
  font-weight: 600;
  user-select: none;
}
.lv-th .lv-th-inner { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.lv-th .lv-th-label { overflow: hidden; text-overflow: ellipsis; }

/* Helpful inline label with icon */
.th-with-icon { display: inline-flex; align-items: center; gap: .5rem; }

/* column resizer (absolute so it doesn‚Äôt steal width) */
.lv-resizer {
  position: absolute;
  right: 0; top: 0; bottom: -1px;
  width: 8px;
  cursor: col-resize;
  background: transparent;
}
.lv-th:hover .lv-resizer { background: rgba(59,130,246,0.12); }

.lv-empty { padding: 28px 12px; text-align: center; color: #6b7280; }

/* Sticky actions column (both header + body) */
.sticky-right {
  position: sticky; right: 0;
  background: #fff;
  box-shadow: -6px 0 8px -6px rgba(0,0,0,0.06);
  z-index: 2;
}
.lv-th.sticky-right {
  background: #f8fafc;
  z-index: 4;
}

/* Inline action icons */
.lv-td-actions { padding-right: 8px; }
.lv-actions-inline { display: flex; gap: 8px; align-items: center; }
.icon-btn.simple {
  background: transparent; border: none; cursor: pointer;
  padding: 6px; border-radius: 8px; color: #6b7280; line-height: 0;
}
.icon-btn.simple:hover { background: #f3f4f6; color: #111827; }
.icon-btn.simple.danger:hover { background: #fee2e2; color: #b91c1c; }
.icon-btn.simple.accent:hover { background: #dcfce7; color: #166534; }

/* Pager */
.lv-table-pager {
  display: flex; align-items: center; justify-content: flex-end;
  gap: 10px; padding: 10px 0 0;
}
.lv-table-pager .pager-text { color: #4b5563; }

/* ====================================================================== */
/* üîß COLUMN PICKER                                                       */
/* ====================================================================== */
.lv-colpick { position: relative; display: inline-block; }
.lv-colpick-menu {
  position: absolute; /* becomes fixed when portalToBody=true inline style */
  right: 0; top: 100%;
  width: 240px;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 12px 28px rgba(0,0,0,0.18);
  z-index: 5000;
}
.lv-colpick-title { font-weight: 700; padding: 10px 12px; border-bottom: 1px solid #f1f5f9; }
.lv-colpick-list { max-height: 260px; overflow: auto; padding: 8px 10px; display: grid; gap: 6px; }
.lv-colpick-item { display: flex; align-items: center; gap: 8px; font-size: 0.92rem; color: #111827; }
.lv-colpick-actions { display: flex; justify-content: flex-end; gap: 8px; padding: 10px 12px; border-top: 1px solid #f1f5f9; }

/* ====================================================================== */
/* üîé TOOLBAR                                                             */
/* ====================================================================== */
.org-toolbar {
  display: grid;
  grid-template-columns: 1fr auto auto auto;  /* search | potential small filters | ... | actions */
  gap: 10px;
  align-items: center;
}

.org-search,
.org-filter {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  background: #ffffff;
  border: 1px solid #d1d5db;
  color: #374151;
}

.org-search { min-width: 0; }
.org-search input {
  background: transparent; border: 0; outline: 0; color: #111827;
  min-width: 0; width: 100%;
}

.org-filter { position: relative; }
.org-filter select {
  background: transparent; border: 0; outline: 0; color: #111827;
  min-width: 160px; border-radius: 8px; padding: 6px 28px 6px 8px;
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
}
.org-filter::after {
  content: "‚ñæ"; position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
  pointer-events: none; color: #6b7280;
}

.toolbar-icon { color: #6b7280; }

.org-actions-right {
  display: inline-flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

/* Pill buttons */
.pill-btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; height: 36px; padding: 0 12px; border-radius: 999px;
  border: 1px solid #d1d5db; cursor: pointer;
  background: #ffffff; color: #374151;
  transition: background 140ms ease, border-color 140ms ease;
}
.pill-btn:hover { background: #f3f4f6; border-color: #9ca3af; }
.pill-btn.primary { background: #3b82f6; border-color: #2563eb; color: #fff; }
.pill-btn.primary:hover { background: #2563eb; }
@media (max-width: 480px) { .hide-sm { display: none; } }

/* ====================================================================== */
/* ü™´ EMPTY STATE                                                         */
/* ====================================================================== */
.no-data { text-align: center; padding: 28px 16px; color: #6b7280; }

/* ====================================================================== */
/* üì± RESPONSIVE HELPERS                                                  */
/* ====================================================================== */
@media (max-width: 1024px) { .col-md-hide { display: none; } }
@media (max-width: 820px)  { .col-sm-hide { display: none; } }
@media (max-width: 560px)  { .col-xs-hide { display: none; } }

@media (max-width: 1024px) {
  .org-toolbar { grid-template-columns: 1fr auto; grid-auto-flow: row; }
}
@media (max-width: 820px) {
  .org-toolbar { grid-template-columns: 1fr; }
  .org-actions-right { justify-content: flex-start; }
}

/* ====================================================================== */
/* üîΩ ADVANCED FILTERS PANEL (below toolbar)                              */
/* ====================================================================== */
.advanced-filters {
  margin: 10px 0 6px 0;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 12px;
  overflow: visible;              /* ensure poppers/inputs are visible */
}

.advanced-filters-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.advanced-filters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); /* ‚Üê prevents overlap */
  align-items: start;              /* avoid overlap with tall controls */
  gap: 10px;
}

.af-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;                    /* ‚Üê prevent overflow in grid cell */
}
.af-field > span {
  font-size: 0.85rem;
  font-weight: 600;
  color: #374151;
}
.af-field input,
.af-field select {
  width: 100%;                     /* ‚Üê keep inside the panel */
  max-width: 100%;
  padding: 9px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #fff;
  color: #111827;
  box-sizing: border-box;          /* ‚Üê prevent ‚Äúbeyond bounds‚Äù */
}
.af-field select[multiple] {
  min-height: 36px;
}

.af-field.af-boolean {
  flex-direction: row;
  align-items: center;
  gap: 10px;
}

.af-range {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 8px;
  align-items: center;
}
.af-range-sep { color: #6b7280; }

@media (max-width: 900px) {
  .advanced-filters-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
}
@media (max-width: 580px) {
  .advanced-filters-grid { grid-template-columns: 1fr; }
}

/* ====================================================================== */
/* üóÇ ORG FORM                                                            */
/* ====================================================================== */
.org-form .form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.org-form .field.full { grid-column: 1 / -1; }
.org-form .field label { display: block; font-weight: 600; margin-bottom: 6px; }
.org-form .field input[type="text"],
.org-form .field input[type="email"],
.org-form .field select,
.org-form .field textarea { width: 100%; }
.org-form .form-actions { margin-top: 12px; display: flex; justify-content: flex-end; gap: 8px; }
.req { color: #e53935; }

/* ===== BodySelect (if used anywhere) ===== */
.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-group input,
.form-group select,
.form-group textarea {
  border: 1px solid #d1d5db;
  border-radius: 8px;
  padding: 8px 10px;
  outline: 0;
  background: #fff;
  color: #111827;
  width: 100%;
}

/* BodySelect layout */
.form-group.bodyselect .bodyselect-search { width: 100%; margin-bottom: 8px; }
.form-group.bodyselect .bs-fields {
  display: grid;
  grid-template-columns: 1fr 180px;  /* select | manual id */
  gap: 8px;
  align-items: end;
}
.form-group.bodyselect .bs-select { width: 100%; }
.form-group.bodyselect .bs-manual small { display: block; color: #6b7280; margin-bottom: 4px; }
.form-group.bodyselect .bs-manual input { width: 100%; max-width: 180px; }

/* Stack on narrow screens */
@media (max-width: 720px) {
  .org-form .form-grid { grid-template-columns: 1fr; }
  .form-group.bodyselect .bs-fields { grid-template-columns: 1fr; }
  .form-group.bodyselect .bs-manual input { max-width: none; }
}
